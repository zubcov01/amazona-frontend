{"ast":null,"code":"import _toConsumableArray from\"D:/VS Code/React/Less/amazona/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/VS Code/React/Less/amazona/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Rating from\"../components/Rating\";import{Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import{detailsProduct}from\"../actions/productActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductScreen=function ProductScreen(props){var dispatch=useDispatch();var productId=props.match.params.id;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(detailsProduct(productId));},[dispatch,productId]);var addToCardHandler=function addToCardHandler(){props.history.push(\"/cart/\".concat(productId,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to result\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"img\",{className:\"large\",src:product.image,alt:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h1\",{children:product.name})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Rating,{rating:product.rating,numReviews:product.numReviews})}),/*#__PURE__*/_jsxs(\"li\",{children:[\"price : $\",product.price]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Descriprion :\",/*#__PURE__*/_jsx(\"p\",{children:product.description})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card card-body\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Price\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[\"$\",product.price]})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{children:product.countInStock>0?/*#__PURE__*/_jsx(\"span\",{className:\"success\",children:\" In Stock\"}):/*#__PURE__*/_jsx(\"span\",{className:\"danger\",children:\"Unavailable\"})})]})}),product.countInStock>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Qty\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:addToCardHandler,className:\"primary block\",children:\"Add to cart\"})})]})]})})})]})]})});};export default ProductScreen;","map":{"version":3,"sources":["D:/VS Code/React/Less/amazona/frontend/src/screens/ProductScreen.jsx"],"names":["React","useEffect","useState","Rating","Link","useDispatch","useSelector","LoadingBox","MessageBox","detailsProduct","ProductScreen","props","dispatch","productId","match","params","id","qty","setQty","productDetails","state","loading","error","product","addToCardHandler","history","push","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"kUAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,OAASC,cAAT,KAA+B,2BAA/B,C,6IAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/B,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,GAAMQ,CAAAA,SAAS,CAAGF,KAAK,CAACG,KAAN,CAAYC,MAAZ,CAAmBC,EAArC,CACA,cAAsBd,QAAQ,CAAC,CAAD,CAA9B,wCAAOe,GAAP,eAAYC,MAAZ,eACA,GAAMC,CAAAA,cAAc,CAAGb,WAAW,CAAC,SAACc,KAAD,QAAWA,CAAAA,KAAK,CAACD,cAAjB,EAAD,CAAlC,CACA,GAAQE,CAAAA,OAAR,CAAoCF,cAApC,CAAQE,OAAR,CAAiBC,KAAjB,CAAoCH,cAApC,CAAiBG,KAAjB,CAAwBC,OAAxB,CAAoCJ,cAApC,CAAwBI,OAAxB,CACAtB,SAAS,CAAC,UAAM,CACdW,QAAQ,CAACH,cAAc,CAACI,SAAD,CAAf,CAAR,CACD,CAFQ,CAEN,CAACD,QAAD,CAAWC,SAAX,CAFM,CAAT,CAGA,GAAMW,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7Bb,KAAK,CAACc,OAAN,CAAcC,IAAd,iBAA4Bb,SAA5B,iBAA6CI,GAA7C,GACD,CAFD,CAGA,mBACE,qBACGI,OAAO,cACN,KAAC,UAAD,IADM,CAEJC,KAAK,cACP,KAAC,UAAD,EAAY,OAAO,CAAC,QAApB,UAA8BA,KAA9B,EADO,cAGP,oCACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,4BADF,cAEE,aAAK,SAAS,CAAC,SAAf,wBACE,YAAK,SAAS,CAAC,OAAf,uBACE,YAAK,SAAS,CAAC,OAAf,CAAuB,GAAG,CAAEC,OAAO,CAACI,KAApC,CAA2C,GAAG,CAAEJ,OAAO,CAACK,IAAxD,EADF,EADF,cAIE,YAAK,SAAS,CAAC,OAAf,uBACE,mCACE,iCACE,oBAAKL,OAAO,CAACK,IAAb,EADF,EADF,cAIE,iCACE,KAAC,MAAD,EACE,MAAM,CAAEL,OAAO,CAACM,MADlB,CAEE,UAAU,CAAEN,OAAO,CAACO,UAFtB,EADF,EAJF,cAUE,kCAAcP,OAAO,CAACQ,KAAtB,GAVF,cAWE,mDACe,mBAAIR,OAAO,CAACS,WAAZ,EADf,GAXF,GADF,EAJF,cAqBE,YAAK,SAAS,CAAC,OAAf,uBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,mCACE,iCACE,aAAK,SAAS,CAAC,KAAf,wBACE,8BADF,cAEE,aAAK,SAAS,CAAC,OAAf,eAAyBT,OAAO,CAACQ,KAAjC,GAFF,GADF,EADF,cAOE,iCACE,aAAK,SAAS,CAAC,KAAf,wBACE,+BADF,cAEE,qBACGR,OAAO,CAACU,YAAR,CAAuB,CAAvB,cACC,aAAM,SAAS,CAAC,SAAhB,uBADD,cAGC,aAAM,SAAS,CAAC,QAAhB,yBAJJ,EAFF,GADF,EAPF,CAmBGV,OAAO,CAACU,YAAR,CAAuB,CAAvB,eACC,wCACE,iCACE,aAAK,SAAS,CAAC,KAAf,wBACE,4BADF,cAEE,kCACE,eACE,KAAK,CAAEhB,GADT,CAEE,QAAQ,CAAE,kBAAAiB,CAAC,QAAIhB,CAAAA,MAAM,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,EAFb,UAIG,mBAAIC,KAAK,CAACd,OAAO,CAACU,YAAT,CAAL,CAA4BK,IAA5B,EAAJ,EAAwCC,GAAxC,CACC,SAACC,CAAD,qBACE,eAAoB,KAAK,CAAEA,CAAC,CAAG,CAA/B,UACGA,CAAC,CAAG,CADP,EAAaA,CAAC,CAAG,CAAjB,CADF,EADD,CAJH,EADF,EAFF,GADF,EADF,cAoBE,iCACE,eACE,OAAO,CAAEhB,gBADX,CAEE,SAAS,CAAC,eAFZ,yBADF,EApBF,GApBJ,GADF,EADF,EArBF,GAFF,GANJ,EADF,CA0FD,CAtGD,CAwGA,cAAed,CAAAA,aAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Rating from \"../components/Rating\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { detailsProduct } from \"../actions/productActions\";\r\n\r\n\r\nconst ProductScreen = (props) => {\r\n  const dispatch = useDispatch();\r\n  const productId = props.match.params.id;\r\n  const [qty, setQty] = useState(1);\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n  useEffect(() => {\r\n    dispatch(detailsProduct(productId));\r\n  }, [dispatch, productId]);\r\n  const addToCardHandler = () => {\r\n    props.history.push(`/cart/${productId}?qty=${qty}`);\r\n  };\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <div>\r\n          <Link to=\"/\">Back to result</Link>\r\n          <div className=\"row top\">\r\n            <div className=\"col-2\">\r\n              <img className=\"large\" src={product.image} alt={product.name} />\r\n            </div>\r\n            <div className=\"col-1\">\r\n              <ul>\r\n                <li>\r\n                  <h1>{product.name}</h1>\r\n                </li>\r\n                <li>\r\n                  <Rating\r\n                    rating={product.rating}\r\n                    numReviews={product.numReviews}\r\n                  />\r\n                </li>\r\n                <li>price : ${product.price}</li>\r\n                <li>\r\n                  Descriprion :<p>{product.description}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"col-1\">\r\n              <div className=\"card card-body\">\r\n                <ul>\r\n                  <li>\r\n                    <div className=\"row\">\r\n                      <div>Price</div>\r\n                      <div className=\"price\">${product.price}</div>\r\n                    </div>\r\n                  </li>\r\n                  <li>\r\n                    <div className=\"row\">\r\n                      <div>Status</div>\r\n                      <div>\r\n                        {product.countInStock > 0 ? (\r\n                          <span className=\"success\"> In Stock</span>\r\n                        ) : (\r\n                          <span className=\"danger\">Unavailable</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                  {product.countInStock > 0 && (\r\n                    <>\r\n                      <li>\r\n                        <div className=\"row\">\r\n                          <div>Qty</div>\r\n                          <div>\r\n                            <select\r\n                              value={qty}\r\n                              onChange={e => setQty(e.target.value)}\r\n                            >\r\n                              {[...Array(product.countInStock).keys()].map(\r\n                                (x) => (\r\n                                  <option key={x + 1} value={x + 1}>\r\n                                    {x + 1}\r\n                                  </option>\r\n                                )\r\n                              )}\r\n                            </select>\r\n                          </div>\r\n                        </div>\r\n                      </li>\r\n                      <li>\r\n                        <button\r\n                          onClick={addToCardHandler}\r\n                          className=\"primary block\"\r\n                        >\r\n                          Add to cart\r\n                        </button>\r\n                      </li>\r\n                    </>   \r\n                  )}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductScreen;\r\n"]},"metadata":{},"sourceType":"module"}